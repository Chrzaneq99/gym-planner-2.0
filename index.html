<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gym Planner</title>
  <link rel="stylesheet" href="style.css?v=1.0.1" />
  <style>
    /* Minimal inline styles (main styles are in style.css) */
    .modal { display: none; position: fixed; left: 0; top: 0; right: 0; bottom: 0; align-items: center; justify-content: center; background: rgba(0,0,0,0.4); }
    .modal .modal-content { background: #fff; padding: 12px; border-radius: 8px; min-width: 300px; }
    .toast { display: none; position: fixed; right: 12px; bottom: 12px; background: #333; color: #fff; padding: 8px 12px; border-radius: 6px; }
    /* Style weight inputs (narrow, centered) and remove native number arrows */
    .series-input {
      width: 64px;
      box-sizing: border-box;
      text-align: center;
      margin: 0 auto;
      padding: 6px;
    }
    /* remove number input arrows - WebKit */
    .series-input::-webkit-outer-spin-button,
    .series-input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
    /* Firefox */
    .series-input[type=number] {
      -moz-appearance: textfield;
      appearance: textfield;
    }

    /* Narrow and center Days input in creator */
    #days-input {
      width: 64px;
      text-align: center;
    }
    /* hide arrows on days input too */
    #days-input::-webkit-outer-spin-button,
    #days-input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }
  #days-input[type=number] { -moz-appearance: textfield; appearance: textfield; }

    /* Center table cells in saved plan */
    #saved-plan .day-block table td,
    #saved-plan .day-block table th {
      text-align: center;
      vertical-align: middle;
    }
    /* series controls: place - input + horizontally with consistent sizing */
    .series-controls {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }
    .series-controls button {
      width: 36px;
      height: 34px;
      padding: 0;
      border: 1px solid rgba(255,140,0,0.12);
      background: rgba(255,255,255,0.03); /* match edit button neutral look */
      color: var(--text-solid);
      border-radius: 4px;
      cursor: pointer;
      font-size: 18px;
      line-height: 1;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }
    .series-controls button:active { transform: translateY(1px); }
    .series-controls .series-input {
      margin: 0;
      width: 64px;
      height: 34px;
      padding: 6px;
      box-sizing: border-box;
    }
  </style>
  

  <body>
    <h1>Gym Planner</h1>
    <!-- Auth UI: shown when not logged in -->
    <div id="auth-section" style="text-align:center; margin:18px 0; max-width:400px; margin-left:auto; margin-right:auto;">
      <div style="background:#f9f9f9; padding:20px; border-radius:10px; border:1px solid #ddd;">
        <h2 style="margin-top:0;">Logowanie</h2>
        <div style="margin-bottom:12px;">
          <label for="username-input" style="display:block; margin-bottom:4px;">Nazwa użytkownika:</label>
          <input type="text" id="username-input" placeholder="np. tomek123" style="width:100%; padding:8px; border:1px solid #ccc; border-radius:4px; box-sizing:border-box;">
        </div>
        <div style="margin-bottom:12px;">
          <label for="password-input" style="display:block; margin-bottom:4px;">Hasło:</label>
          <input type="password" id="password-input" placeholder="Twoje hasło" style="width:100%; padding:8px; border:1px solid #ccc; border-radius:4px; box-sizing:border-box;">
        </div>
        <div style="display:flex; gap:8px; justify-content:center;">
          <button id="login-btn" style="padding:10px 16px; background:#007bff; color:white; border:none; border-radius:4px; cursor:pointer;">Zaloguj</button>
          <button id="signup-btn" style="padding:10px 16px; background:#28a745; color:white; border:none; border-radius:4px; cursor:pointer;">Utwórz konto</button>
        </div>
      </div>
    </div>
    <!-- Logout button: shown when logged in -->
    <div id="logout-wrap" style="text-align:right; margin:6px 0 0 0; display:none;">
      <span id="current-user-display" style="margin-right:12px;">Zalogowany jako: <strong id="username-display"></strong></span>
      <button id="logout-btn">Wyloguj</button>
    </div>
    <div class="app" style="display:flex; gap:12px; align-items:flex-start;">
      <div class="sidebar" style="min-width:180px;">
        <button class="tab-button" id="tab-create" data-tab="create">Kreator planu</button>
        <button class="tab-button" id="tab-list" data-tab="list">Lista ćwiczeń</button>
        <button class="tab-button" id="tab-saved" data-tab="saved">Twój plan treningowy</button>
      </div>

      <div class="content" style="flex:1;">
        <section data-tab="create">
          <div id="create-section" style="display:flex; gap:8px; align-items:center; margin-bottom:12px;">
            <label>Dni: <input id="days-input" type="number" min="1" max="7" value="3" style="width:60px; margin-left:6px;"/></label>
              <button id="apply-days-btn">Zastosuj dni</button>
              <button id="create-plan-btn">Utwórz plan</button>
          </div>
          <!-- exercise-list moved to its own tab -->
          <div id="training-plan"></div>
        </section>

        <section data-tab="saved" style="display:none;">
          <div id="saved-plan"></div>
        </section>
        <section data-tab="list" style="display:none;">
          <h3>Lista ćwiczeń</h3>
          <div id="exercise-list" style="margin-top:8px;">
              <div class="exercise-section" data-section="Klatka piersiowa">
                <h4>Klatka piersiowa</h4>
                <ul>
                  <li>Wyciskanie sztangi na ławce płaskiej</li>
                  <li>Rozpiętki na maszynie</li>
                  <li>Landmine Svend press</li>
                  <li>Wyciskanie hantli na ławce dodatniej</li>
                  <li>Krzyżowanie lin</li>
                </ul>
              </div>

              <div class="exercise-section" data-section="Plecy">
                <h4>Plecy</h4>
                <ul>
                  <li>Wiosłowanie hantlami na ławce dodatniej</li>
                  <li>Odwrotne rozpiętki na maszynie</li>
                  <li>Wyprosty tułowia</li>
                  <li>Ściąganie drążka szerokim chwytem</li>
                  <li>Podciąganie</li>
                </ul>
              </div>

              <div class="exercise-section" data-section="Triceps">
                <h4>Triceps</h4>
                <ul>
                  <li>Krzyżowe prostowanie linek</li>
                  <li>Wyciskanie hantla za głową</li>
                  <li>Prostowanie na wyciągu</li>
                  <li>Maszyna "Hammer"</li>
                  <li>Wyciskanie francuskie</li>
                </ul>
              </div>

              <div class="exercise-section" data-section="Nogi">
                <h4>Nogi</h4>
                <ul>
                  <li>Przysiady</li>
                  <li>Wykroki</li>
                  <li>Wypychanie łydkami na suwnicy górnej</li>
                  <li>Wypychanie na suwnicy dolnej</li>
                  <li>Uginanie mięśniem dwugłowym</li>
                  <li>Uginanie mięśniem czterogłowym</li>
                </ul>
              </div>

              <div class="exercise-section" data-section="Pośladki">
                <h4>Pośladki</h4>
                <ul>
                  <li>Hip thrust</li>
                  <li>Martwy ciąg</li>
                  <li>Odwodzenie nogi w tył na wyciągu</li>
                  <li>Bułgary</li>
                  <li>Odwodzenie nóg na boki na maszynie</li>
                </ul>
              </div>

              <div class="exercise-section" data-section="Biceps">
                <h4>Biceps</h4>
                <ul>
                  <li>Uginanie na ławce dodatniej ze sztangą</li>
                  <li>Uginanie młotkowe</li>
                  <li>Nadchwyt na wyciągu</li>
                  <li>Uginanie hantlami na siedząco</li>
                  <li>Modlitewnik</li>
                </ul>
              </div>

              <div class="exercise-section" data-section="Barki">
                <h4>Barki</h4>
                <ul>
                  <li>Wyciskanie żołnierskie</li>
                  <li>Unoszenie hantli bokiem</li>
                  <li>Wyciskanie hantli na siedząco</li>
                  <li>Unoszenie ramion bokiem na wyciągu</li>
                  <li>Unoszenie ramion na maszynie</li>
                </ul>
              </div>
              </div>
          </div>
        </section>
      </div>
    </div>

  <!-- Exercise form modal -->
  <div id="exercise-form-modal" class="modal">
    <div class="modal-content">
      <h3 class="form-title">Dodaj ćwiczenie</h3>
      <div style="text-align:left; margin-top:10px;">
        <label>Nazwa (wybierz z listy):<br/>
          <select id="ex-name" style="width:100%; padding:6px; margin-top:4px;"></select>
        </label>
        <label>Ile serii:<br/><input id="ex-series" type="number" min="1" style="width:100%; padding:6px; margin-top:4px;"/></label>
        <label>Ile powtórzeń:<br/><input id="ex-reps" type="number" min="1" style="width:100%; padding:6px; margin-top:4px;"/></label>
        <label>Przyrost:<br/>
          <select id="ex-increase" style="width:100%; padding:6px; margin-top:4px;">
            <option value="2">2</option>
            <option value="2.5">2.5</option>
            <option value="5">5</option>
          </select>
        </label>
        <label style="display:block; margin-top:8px;">Ciężar (kg):<br/>
          <div style="display:flex; gap:8px; align-items:center; margin-top:4px;">
            <button id="ex-weight-decr" type="button" style="width:36px;">−</button>
            <input id="ex-weight" type="number" min="0" step="0.5" style="flex:1; padding:6px;"/>
            <button id="ex-weight-incr" type="button" style="width:36px;">+</button>
          </div>
        </label>
      </div>
      <div style="margin-top:12px;">
        <button id="form-save-btn">Zapisz</button>
        <button id="form-cancel-btn">Anuluj</button>
      </div>
    </div>
  </div>
  <div id="edit-modal" class="modal">
    <div class="modal-content">
      <p>Co chcesz zrobić?</p>
      <button id="edit-btn">Edytuj</button>
      <button id="delete-btn">Usuń</button>
      <button id="cancel-btn">Anuluj</button>
    </div>
  </div>

  <div id="toast" class="toast">Zapisano</div>

  <script type="module" src="./script.js?v=1.0.1"></script>
  </body>
</html>
